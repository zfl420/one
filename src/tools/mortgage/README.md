# 房贷计算器

一个功能完整的房贷计算器工具，支持等额本息和等额本金两种还款方式。

## 功能特性

### 1. 灵活的输入参数
- **贷款总额**：支持10-1000万元范围
- **贷款期限**：提供5/10/15/20/25/30年快捷选项，支持自定义
- **年利率**：预设常用利率（公积金、商贷LPR等），支持自定义输入
- **还款方式**：等额本息 / 等额本金一键切换

### 2. 详细的结果展示
- **月供金额**：等额本息显示固定月供，等额本金显示首月到末月的变化
- **还款总额**：显示贷款本金+利息的总金额
- **支付利息**：清晰展示需要支付的总利息
- **本息占比**：可视化进度条展示本金和利息的比例关系

### 3. 完整的还款计划表
- 按年分页展示（每页12期）
- 显示每期的：期数、月供、本金、利息、剩余本金
- 年度汇总功能
- 支持在360期内完整查看所有还款明细

### 4. 多维度可视化图表
- **本息构成趋势图**：面积图展示每月本金和利息的变化趋势
- **累计还款进度**：堆叠面积图展示累计已还本金和利息
- **本息占比饼图**：直观展示总本金和总利息的占比关系

## 技术实现

### 核心算法
- **等额本息**：月供 = [贷款本金 × 月利率 × (1+月利率)^还款月数] / [(1+月利率)^还款月数 - 1]
- **等额本金**：每月本金固定，利息逐月递减

### 技术栈
- React + TypeScript
- Zustand（状态管理）
- Recharts（图表库）
- Tailwind CSS（样式）

### 文件结构
```
mortgage/
├── Mortgage.tsx           # 主组件
├── mortgage.store.ts      # Zustand状态管理
├── MortgageForm.tsx       # 参数输入表单
├── ResultSummary.tsx      # 结果摘要卡片
├── RepaymentTable.tsx     # 还款计划表
├── RepaymentChart.tsx     # 可视化图表
└── utils.ts               # 计算逻辑工具函数
```

## 使用说明

### 等额本息 vs 等额本金

**等额本息**
- ✅ 每月还款额固定
- ✅ 适合收入稳定的人群
- ✅ 还款压力平均分配
- ⚠️ 前期利息占比大
- ⚠️ 总利息较多

**等额本金**
- ✅ 每月还款额递减
- ✅ 总利息少于等额本息
- ✅ 适合前期收入较高的人群
- ⚠️ 前期还款压力大

## 示例场景

### 场景1：首套房（公积金贷款）
- 贷款总额：80万
- 贷款期限：30年
- 年利率：4.2%（公积金5年以上）
- 等额本息月供：约 3,912元
- 总利息：约 60.8万

### 场景2：二套房（商业贷款）
- 贷款总额：150万
- 贷款期限：20年
- 年利率：4.65%（商贷LPR+70BP）
- 等额本息月供：约 9,586元
- 总利息：约 80.1万

## 注意事项

1. 本计算器仅供参考，实际还款金额以银行或贷款机构最终审批为准
2. 利率可能随政策调整而变化，建议咨询相关金融机构获取最新信息
3. 计算结果已考虑复利效应和精确到月的时间计算
4. 提前还款、利率调整等特殊情况未包含在计算中
